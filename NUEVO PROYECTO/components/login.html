<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio de Sesión</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="../styles/estilo.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,700,0,0" />
    <style>
        body {
            background-color: #f8f9fa;
        }

        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 85vh;
            background-color: white !important;
        }

        .login-card {
            background-color: #fdfffd;
            padding: 40px 40px; /* Ajusta el padding arriba y abajo */
            border-radius: 10px;
            box-shadow: 0 1px 8px rgba(0, 0, 0, 0.0.5);
            width: 100%;
            max-width: 600px; 
            min-height: 200px; /* Ajusta la altura mínima de la tarjeta */
            margin-bottom: 20px; /* Espacio adicional en la parte inferior */
        border: 1px solid #dee2e6;        
    }

        .login-card h2 {
            font-size: 2rem;
            font-weight: 800;
        }

     
        .login-card .form-group input {
            background-color: #e9ecef;
            border: 1px solid #ced4da;
            border-radius: 8px;
            padding: 10px;
            width: 100%;
        }

        .login-card .form-group input::placeholder {
            color: #6c757d;
        }

        .login-card button {
            background-color: #28a745;
            color: white;
            width: 100%;
            padding: 10px;
            margin-top: 10px;
        }

        .login-card button:hover {
            background-color: #218838;
        }

        .image-card {
            background: url('../images/incioSesion.jpeg') no-repeat center center;
            background-size: cover;
            width: 100%;
            max-width: 400px;
            height: 100%;
            max-height: 500px;
            margin-right: 600px;
           border: none;
  border-radius: 10px; /* Bordes redondeados */
  position: relative;
  overflow: hidden; /* Asegura que el pseudo-elemento no se desborde */
        }
    .image-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(to right, rgba(255,255,255,0.3), rgba(255,255,255,0));
  pointer-events: none; /* Permite interacciones con elementos debajo */
}

        
        .login-card h2{

            text-align: left;
            color: #000;

        }
        .login-card p{
            text-align: left;
            color: #6c757d;
            font-size: 20px;
            font-family:Arial, Helvetica, sans-serif;
            font-weight: 400;
            margin-bottom: 40px;
            margin-top: -10px;

        }
        .terminos-y-condiciones{
            margin-top:50px !important; 
            text-align: center !important; 
            font-size: 15px !important;
            
        }
        /* Columnas */
.col-md-5, .col-md-7 {
  padding: 50px;
}
/* Responsive */
@media (max-width: 768px) {
  .row {
    flex-direction: column;
  }
  
  .col-md-5, .col-md-7 {
    width: 100%;
  }
}

/* Estilos para el icono de email */
#email {
  background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="%23aaa"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg>') no-repeat 10px center;
  background-size: 20px;
}

/* Estilos para el icono de contraseña */
#password {
  background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="%23aaa"><path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path></svg>') no-repeat 10px center;
  background-size: 20px;
}





    </style>
</head>

<body>
    <header style="padding: 0px;">
        <div class="header-content" >
            <div class="d-flex w-100 align-items-right">
                <!-- Logo -->
                <a class="navbar-brand d-flex align-items-center" href="../components/home.html">
                    <span class="material-symbols-outlined iconoPrincipal">
                        fitness_center
                    </span>
                    <h2 class="subtitle mb-0 ms-2 ml-2">POLI GYM</h2>
                </a>
        
                <!-- Navbar -->
                <nav class="navbar navbar-expand-lg navbar-dark ml-auto">
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="../components/home.html">Inicio</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="../components/home.html#testimonios">Testimonios</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="../components/home.html#heroSection">Servicios</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="../components/contacto.html">Contactanos</a>
                            </li>
                            <li class="nav-item ml-5">
                                <a class="btn btn-info btn-sm px-5 py-1 nav-link" type="button"
                                    href="../components/login.html">Prueba gratis</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </header>

    <div class="login-container">
        <div class="row">
            <!-- Tarjeta con imagen -->
            <div class="col-md-5"  >
                <div class="image-card"></div>
            </div>

            <!-- Tarjeta de login -->
            <div class="col-md-7">
                <div class="login-card">
                    <h2>¡Empecemos!<span class="material-symbols-outlined">
                        rocket_launch
                    </span></h2>
                    <p>Inicia Sesion</p>

                    <form onSubmit={handleLogin}>
                        <div class="form-group">
                            <input type="email" id="email" class="form-control" placeholder="&nbsp; &nbsp; &nbsp; ¿Cuál es tu email?"
                                required />
                        </div>

                        <div class="form-group">
                            <input type="password" id="password" class="form-control" placeholder="&nbsp; &nbsp; &nbsp; Contraseña"
                                required />
                        </div>

                        <button type="submit" class="btn">Ingresar</button>
                    </form>

                    <p class="terminos-y-condiciones">Al darle click en ingresar, aceptas los<br/> <b>Terminos y condiciones</b> y las <b>Politicas de privacidad</b> </p>
                </div>
            </div>
        </div>
    </div>

    <!-- React -->
    <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    
    <!-- JS de Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/d48a53e01e.js" crossorigin="anonymous"></script>


    <script type="text/babel">
        const Login = () => {
            const [email, setEmail] = React.useState('');
            const [password, setPassword] = React.useState('');

            const handleLogin = (e) => {
                e.preventDefault();
                fetch('http://localhost:3000/users')
                    .then(response => response.json())
                    .then(users => {
                        const user = users.find(u => u.email === email && u.password === password);
                        if (user) {
                            localStorage.setItem('token', JSON.stringify(user)); // Guardar el usuario
                            window.location.href = user.rol === 'administrador' ? '/Frontend/NUEVO%20PROYECTO/components/home.html' : '/Frontend/NUEVO%20PROYECTO/components/homeViewer.html';
                        } else {
                            alert('Credenciales incorrectas');
                        }
                    })
                    .catch(error => console.error('Error:', error));
            };

            return (
                <div className="login-card">
                    <h2>EMPECEMOS</h2>
                    <p>Inicia sesión para continuar</p>

                    <form onSubmit={handleLogin}>
                        <div className="form-group">
                            <input
                                type="email"
                                id="email"
                                className="form-control"
                                placeholder="¿Cuál es tu email?"
                                value={email}
                                onChange={(e) => setEmail(e.target.value)}
                                required
                            />
                        </div>

                        <div className="form-group">
                            <input
                                type="password"
                                id="password"
                                className="form-control"
                                placeholder="Contraseña"
                                value={password}
                                onChange={(e) => setPassword(e.target.value)}
                                required
                            />
                        </div>

                        <button type="submit" className="btn btn-success btn-block">Ingresar</button>
                    </form>

                    <p>Al darle continuar, aceptas nuestros <a href="#">términos y condiciones</a>.</p>
                </div>
            );
        };

        ReactDOM.render(<Login />, document.getElementById('login'));
    </script>
</body>

</html>